function lazyLoad(){ll=this,ll.class="lazy-load",ll.onShow=null,ll.onBeforeShow=null,ll.dataSource="data-src",ll.debug=!1,ll.onError=null,ll.firstLoad=function(){ll.check()},ll.loaded=[],ll.check=function(){var l=document.getElementsByClassName(ll.class);for(i in l){var o=l[i];if(window.pageYOffset+window.innerHeight>o.offsetTop){ll.onBeforeShow&&ll.onBeforeShow(o);var e=o.getAttribute(ll.dataSource);e?(o.setAttribute("src",e),ll.onShow&&ll.onShow(o),ll.loaded.push(o)):(ll.debug&&console.error("Element does not have the data-source attribute ("+ll.dataSource+")",o),ll.onError(o))}}ll.removeLoaded()},ll.removeLoaded=function(){var l=ll.loaded;for(i in l)l[i].classList.remove(ll.class);ll.loaded=[]},ll.init=function(){window.onload=function(){ll.firstLoad(),ll.debug&&console.log("LazyLoad:",ll),window.onscroll=function(){ll.check()}}}}
