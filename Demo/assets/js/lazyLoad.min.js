function lazyLoad(){ll=this;ll.class='lazy-load';ll.onShow=null;ll.onBeforeShow=null;ll.dataSource='data-src';ll.debug=false;ll.onError=null;ll.firstLoad=function(){ll.check();}
ll.loaded=[];ll.check=function(){var elements=document.getElementsByClassName(ll.class);if(elements.length==0){return false;}
var element=elements[0];var page=window.pageYOffset+window.innerHeight;var offsetTop=element.getBoundingClientRect();if(page>offsetTop.top){if(ll.onBeforeShow){ll.onBeforeShow(element);}
var src=element.getAttribute(ll.dataSource);if(src){element.setAttribute('src',src);if(ll.onShow){ll.onShow(element);}
element.classList.remove(ll.class);element.onload=function(){ll.check();}}else{if(ll.debug){console.error('Element does not have the data-source attribute ('+ll.dataSource+')',element)}
ll.onError(element);}}ll.removeLoaded()};ll.removeLoaded=function(){var elements=ll.loaded;for(i in elements){var element=elements[i];element.classList.remove(ll.class);}
ll.loaded=[];}
ll.init=function(){ll.firstLoad();if(ll.debug){console.log('LazyLoad:',ll);}
window.onscroll=function(){ll.check();}}}